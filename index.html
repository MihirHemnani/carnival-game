<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carnival Game</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="index.css" />
</head>

<body>
    <h1> Carnival </h1>
    <!-- <h2> Game </h2> -->
    <h2 id="timer">Timer: 30 seconds</h2>

    <div class="game-over">
        <h1>Game Over!</h1>
        <a class="play-again" target="" href="#">Play Again</a>
    </div>

    <ul class="game-area">
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
        <li><input type="checkbox">
            <div class="shield"></div>
        </li>
    </ul>

    <h3 class="total-count">Targets Hit: &nbsp;</h3>

    <script>
        
        document.addEventListener("DOMContentLoaded", function () {
            
            var timerElement = document.getElementById('timer');
            var timeRemaining = 30; // Set the initial time in seconds
            function updateTimer() {
                timerElement.innerText = 'Timer: ' + timeRemaining + ' seconds';
            }

            function startTimer() {
                var timerInterval = setInterval(function () {
                    timeRemaining--;
                    updateTimer();

                    if (timeRemaining <= 0) {
                        clearInterval(timerInterval);
                        var gameOverDiv = document.querySelector('.game-over');
                        gameOverDiv.style.webkitAnimationDelay = '0s';
                        gameOverDiv.style.animationDelay = '0s';
                    }
                }, 1000); // Update every second
            }

            var playAgainLink = document.querySelector(".play-again");
            
            playAgainLink.addEventListener("click", function (event) {
                event.preventDefault();
                window.location.reload();
            });
            startTimer();
        });

        document.querySelectorAll('input[type="checkbox"]').forEach(function (checkbox) {
            checkbox.addEventListener('change', function () {
                var allChecked = document.querySelectorAll('input[type="checkbox"]:checked').length === 9;
                document.body.classList.toggle('all-checked', allChecked);
            });
        });

    </script>

</body>

</html>